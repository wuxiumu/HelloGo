教学大纲
教学目的

“编译原理”课属于计算机专业的专业必修课。编译系统是计算机的几大系统之一。通过该课的学习使学生掌握语言的形式化描述方法，语言处理的基本原理、方法和技术。为学生进一步掌握计算机专业的各种知识打下坚实的基础。该课也是许多高校计算机专业硕士研究生的入学考试课程

## 第 1 章 编译概述

### 一、学习目的和要求

首先要介绍和复习 程序设计语言，因为程序设计语言是编译器的翻译对象，然后介绍什么是编译程序，再介绍编译程序的组成，最后介绍如何生成编译程序。

要求学生对编译程序的概念、整体结构及基本方法有一个概括的了解。

###  二、课程内容

#### 第一节 程序设计语言

( 一 ) 高级语言的特点;

( 二 ) 汇编语言的特点;

( 三 ) 机器代码的特点。

#### 第二节 什么是编译程序

( 一 ) 翻译程序：就是将源程序转换成目标程序的程序;

( 二 ) 翻译程序和解释程序的区别 ;

( 三 ) 编译程序和汇编程序的区别 。

#### 第三节 编译程序的组成

编译程序分为分析和综合两大部分：在此部分介绍：

• 词法分析;

• 语法分析;

• 语义分析;

• 中间代码生成;

#### 第四节 编译程序的生成

### 三、考核知识点

( 一 ) 编译程序的概念

( 二 ) 编译程序的构成

( 三 ) 符号表的作用

( 四 ) 遍的概念

( 五 ) 编译程序的生成方法

### 四、考核要求

( 一 ) 编译程序的概念

1. 识记：什么叫翻译，什么叫编译程序。 
2. 领会：编译程序与解释程序的区别;汇编程序和编译程序的区别。

( 二 ) 编译程序的构成

1. 识记：编译程序基本上是由词法分析程序、语法分析程序、语义分析程序、中间代码生成程序和 。 
2. 领会：编译程序的各个组成部分的作用和符号表的管理及错误处理程序。

( 三 ) 编译程序的生成方法

领会：生成编译程序的语言及自编译法、移植方法等。

## 第2 章 (预备知识)文法和语言

一、学习目的和要求

文法是构成程序设计语言的基础，熟悉文法是理解编译程序的关键。本章主要介绍文法的表示方法包括 符号、符号串及其集合的运算;文法的直观概念;文法和语言的形式定义;文法的类型;上下文无关文法及其语法树;句型的分析等。要求学生掌握文法的概念和形式语言的概念及类型。

二、课程内容

第一节 符号、符号串及其集合的运算

任何一种语言都是由该语言的基本符号组成的符号串的集合。

( 一 ) 介绍字母表和符号串的概念;

( 二 ) 介绍符号串及其集合的运算 ;

第二节 文法的直观概念

( 一 ) 文法的定义;

( 二 ) 规则 ;

( 三 ) 推导的定义 。

第三节 文法和语言的形式定义

( 一 ) 文法的形式定义;

( 二 ) 推导的形式定义;

( 三 ) 语言的形式定义。

第四节 文法的类型

( 一 ) Chomsky 分类法

三、考核知识点

( 一 ) 文法的概念及运算

( 二 ) 文法和语言的形式定义

( 三 ) 短语、句型、分析树等概念

( 四 ) 如何区分文法的四种类型

四、考核要求

( 一 ) 文法的概念及运算

1. 识记：什么叫文法，什么叫规则和推导。 2. 领会： 字母表、符号串和集合的概念及运算 。

( 二 ) 文法和语言的形式定义

1. 识记：文法的四元表示、推导、短语和句柄等概念;语言的形式定义。 2. 领会：文法和语言的关系;如何通过分析树寻找短语和句柄。

( 三 ) 文法的类型

1. 识记：文法的四种类型。领会：如何区分文法的类型。

第 2 章 词法分析

一、学习目的和要求

本章主要介绍 词法分析器的构成。词法分析器的作用是把构成源程序的字符流翻译成记号流，并且完成和用户接口的一些任务。围绕词法分析器的自动生成展开介绍正规式、状态转换图和有限自动机概念。 要求学生掌握词法分析器的输入输出形式和词法分析的各种基本方法。

二、课程内容

第一节 词法记号及属性

( 一 ) 介绍 词法记号、模式、词法单元 的概念 ;

( 二 ) 介绍词法记号的 token 表示法 ;

第二节 词法记号的描述与识别

( 一 ) 复习 串和语言的概念及运算 ;

( 二 ) 介绍正规式的概念及其代数性质 ;

( 三 ) 正规定义式的概念 ;

( 四 ) 正规文法和正规式的相互转换及状态转换图。

第三节 有限自动机

( 一 ) 不确定的有限自动机(简称 NFA ) ;

( 二 ) 确定的有限自动机(简称 DFA ) ;

• NFA 到 DFA 的变换 。

三、考核知识点

( 一 ) 词法输出的 token 表示法;

( 二 ) 写正规式及代数性质的体现;

( 三 ) 非形式描述的语言 表示成 正规式的形式;

( 四 ) 正规式 转换成 NFA ;

( 五 ) 非形式描述的语言 表示成 NFA 的形式;

( 六 ) 如何将 NFA 转换成 DFA 。

四、考核要求

( 一 ) 词法输出的 token 表示法

1. 识记： 词法记号、模式、词法单元 的概念 。 2. 领会：词法输出的 token 表示 。

( 二 ) 正规式及其代数性质

1. 识记：正规式的表示方法;正规定义式。 2. 应用：如何将 非形式描述的语言 表示成 正规式的形式 。

( 三 ) NFA 和 DFA

1. 识记：什么叫 NFA 和 DFA 。 2. 应用： NFA 和 DFA 的相互转换;正规式与 NFA 的相互转换。

第 3 章 语法分析

一、学习目的和要求

本章首先介绍 上下文无关文法，然后 主要介绍语法分析的基本方法，包括 自上而下分析和自下而上分析，同时围绕分析器的自动生成展开学习语法分析过程。 要求学生掌握语法分析器的基本构成方法，可以利用 自上而下分析和自下而上分析方法，编程实现语法分析器。

二、课程内容

第一节 上下文无关文法

( 一 ) 介绍 上下文无关文法的定义 ;

( 二 ) 推导及分析树 ;

( 三 ) 二义性的概念。

第二节 语言和文法

( 一 ) 正规式和上下文无关文法的比较;

( 二 ) 表达式的文法;

( 三 ) 如何消除二义性 ;

• 如何消除左递归和提取左公因子 ;

• 非上下文无关的语言结构。

第三节 自上而下分析

( 一 ) 自上而下分析的一般方法 ;

( 二 ) 递归下降的预测分析;

( 三 ) 非递归的 LL ( 1 )分析法;

( 四 ) 预测分析的错误恢复 。

第四节 自下而上分析

( 一 ) 归约和规范归约 ;

( 二 ) 句柄的概念及用栈实现移进 - 归约分析的方法;

( 三 ) 移进 - 归约分析的冲突。

第五节 LR 分析器

( 一 ) LR 分析算法 ;

( 二 ) LR 文法和 LR 分析方法的特点;

( 三 ) 如何构造 SLR 分析表;

( 四 ) 构造规范的 LR 分析表;

( 五 ) 构造 LALR 分析表 。

第六节 二义文法的应用

• 使用文法以外信息来解决分析动作冲突;

( 二 ) 特殊情况产生式引起的二义性;

( 三 ) LR 分析的错误恢复。

三、考核知识点

( 一 ) 上下文无关文法的 ;

( 二 ) 利用 分析树寻找短语、句柄及区分二义性 ;

( 三 ) 消除左递归和提取左公因子 ;

( 四 ) 非递归的 LL ( 1 )分析法的执行过程及分析表的构造 ;

( 五 ) 规范归约及移进 - 归约分析法 ;

• LR 分析方法的特点及 SLR 分析表的构造 ;

四、考核要求

( 一 ) 上下文无关文法的

1. 识记： 上下文无关文法的形式表示 。 2. 应用：给出一种语言，能用 上下文无关文法表示出来 。

( 二 ) 分析树及二义性

1. 识记：分析树的构成方法和二义性的定义。 2. 应用：利用 分析树寻找短语、句柄及区分二义性 。

( 三 ) 左递归和回溯

1. 识记：语法分析中的左递归和回溯现象。 2. 应用：如何 消除左递归和提取左公因子以 。

( 四 ) LL ( 1 )分析法

1. 识记：语法分析中的左递归和回溯现象。 2. 应用：如何 消除左递归和提取左公因子以进行 LL ( 1 )分析; LL ( 1 )分析表的构造 。

( 五 ) LR 分析方法

1. 识记： LR 分析器的逻辑结构及活前缀等概念。 2. 应用：构造 SLR 分析表、规范的 LR ( 1 )分析表及 LALR 分析表;用 SLR 分析法分析非二义性的文法和二义性的文法。

第 4 章 语法制导的翻译

一、学习目的和要求

本章 介绍一种形式化的语义描述方法：语法制导的翻译，包括它的两种具体形式：语法制导的定义和翻译方案;介绍语法制导的翻译的实现方法。 要求学生掌握语义的基本方法， S 属性定义及 L 属性定义等。

二、课程内容

第一节 语法制导的定义

( 一 ) 语法制导定义的形式 ;

( 二 ) 综合属性 ;

( 三 ) 继承属性 ;

( 四 ) 属性依赖图 ;

( 五 ) 属性计算次序。

第二节 S 属性定义的自下而上计算

( 一 ) 语法树的概念;

( 二 ) 构造语法树的语法制导定义 ;

( 三 ) S 属性的自下而上计算方法。

第三节 L 属性定义的自上而下计算

( 一 ) L 属性定义 ;

• 翻译方案 ;

• 预测翻译器的设计;

• 用综合属性代替继承属性 。

第四节 L 属性的自下而上计算

( 一 ) 删除翻译方案中嵌入的动作 ;

( 二 ) 分析栈上的继承属性 ;

( 三 ) 模拟继承属性的计算。

三、考核知识点

( 一 ) 语法制导定义的概念 ;

( 二 ) 综合属性和继承属性的概念 ;

( 三 ) S 属性定义和 L 属性定义;

( 四 ) 翻译方案;

( 五 ) 如何进行语法制导翻译;

( 六 ) 如何 删除翻译方案中嵌入的动作 。

四、考核要求

( 一 ) 语法制导定义

1. 识记： 语法制导定义 的概念 。 2. 领会： 语法制导定义的形式;综合属性和继承属性的概念;属性依赖图 。

( 二 ) S 属性定义和 L 属性定义

1. 识记： S 属性定义和 L 属性定义的概念 。 2. 应用：利用 S 属性定义进行自下而上的计算;利用 L 属性定义进行自上而下计算 。

( 三 ) 翻译方案

1. 识记：翻译方案的概念。 2. 应用：如何产生翻译方案;如何删除翻译方案中嵌入的动作。

第 6 章 运行时存储空间的组织和管理

一、学习目的和要求

过程的活动需要可执行代码和存放所需信息的存储空间 , 后者称为活动记录。本章讨论一个活动记录中的数据安排;程序执行过程中，所有活动记录的组织方式;影响存储分配策略的语言特征 ; 参数传递方式等。 要求学生掌握局部和全局存储分配策略;参数传递。

二、课程内容

第一节 局部存储分配策略

( 一 ) 过程和活动 ;

( 二 ) 名字的作用域和绑定 ;

( 三 ) 活动记录 ;

( 四 ) 局部数据的安排 ;

( 五 ) 程序块。

第二节 全局存储分配策略

( 一 ) 运行时内存的划分 ;

( 二 ) 静态分配 ;

( 三 ) 栈式分配

( 四 ) 堆式分配。

第三节 非局部名字的访问

( 一 ) 无过程嵌套的静态作用域;

( 二 ) 有过程嵌套的静态作用域 ;

( 三 ) 动态作用域 。

第四节 参数传递

( 一 ) 值调用 ;

( 二 ) 引用调用 ;

( 三 ) 复写 - 恢复调用;

( 四 ) 换名调用。

三、考核知识点

( 一 ) 过程和活动的概念 ;

( 二 ) 活动记录的组成 ;

( 三 ) 局部数据的安排;

( 四 ) 静态分配、栈式分配和堆式分配;

( 五 ) 嵌套深度和访问链;

( 六 ) 参数调用的几种形式。

四、考核要求

( 一 ) 过程和 活动

1. 识记：过程和 活动 的概念 。 2. 领会：过程和 活动的区别 。

( 二 ) 活动记录

1. 识记： 活动记录的布局 。 2. 领会：如何 在局部数据域中依次分配空间; 局部数据的安排 。

( 三 ) 全局数据的安排

1. 识记： 静态分配、栈式分配和堆式分配 。 2. 领会：调用者和被调用者的任务划分;运行栈;控制链等。

( 四 ) 参数调用

1. 识记： 参数调用的几种形式; 2. 领会：各种调用的应用方法和调用结果。

第 7 章 中间代码生成

一、学习目的和要求

编译器的前端把源程序翻译成中间表示，后端从中间代码产生目标代码，与目标语言有关的细节尽可能限制在后端 。本章 介绍几种常用的中间表示：后缀表示、图形表示和三地址代码 ， 用语法制导定义和翻译方案的方法来说明程序设计语言的结构怎样被翻译成中间形式的。要求学生掌握中间语言的表示方法和中间代码的翻译方法。

二、课程内容

第一节 中间语言

( 一 ) 后缀表示 ;

( 二 ) 图形表示 ;

( 三 ) 三地址代码。

第二节 声明语句

( 一 ) 过程中的声明 ;

( 二 ) 作用域信息的保存 ;

( 三 ) 记录的域名。

第三节 赋值语句

( 一 ) 符号表中的名字;

( 二 ) 临时名字的重新使用 ;

( 三 ) 数组元素的地址计算;

( 四 ) 数组元素地址计算的翻译方案;

( 五 ) 类型转换 。

第四节 布尔表达式和控制流语句

( 一 ) 布尔表达式的翻译 ;

( 二 ) 控制流语句的翻译 ;

( 三 ) 布尔表达式的控制流翻译;

( 四 ) 开关语句的翻译;

( 五 ) 过程调用的翻译。

三、考核知识点

( 一 ) 中间代码的几种形式及它们之间的相互转换 ;

( 二 ) 符号表的组织和作用域信息的保存 ;

( 三 ) 数组元素定址的翻译方案，布尔表达式的两种不同实现方式 ;

( 四 ) 赋值语句和各种控制流语句的中间代码格式和生成中间代码的翻译方案 ;

( 五 ) 过程调用的中间代码格式和生成中间代码的翻译方案 。

四、考核要求

( 一 ) 中间代码的几种形式

1. 识记：中间代码的 后缀表示 、 图形表示、三地址代码等 。 2. 应用：几种代码之间的转换。

( 二 ) 符号表的组织和作用域信息的保存

1. 识记： 作用域的概念 。 2. 领会：符号表中的名字和临时名字的重新使用。

( 三 ) 数组元素的定址

1. 识记： 一维数组、二维数组及多维数组的地址计算 。 2. 应用： 数组元素定址的翻译方案 。

( 四 ) 布尔表达式的翻译

1. 识记： 布尔表达式及其在控制流语句或开关语句等中的翻译方案; 2. 应用：给定某一控制流语句、过程调用语句或开关语句，翻译成中间代码。

第 8 章 代码生成

一、学习目的和要求

一个简单的代码生成算法涉及存储管理，指令选择，寄存器分配和计算次序选择等基本问题。本章主要介绍代码生成器设计中的主要问题：存储管理、计算次序的选择、寄存器的分配、指令的选择等;目标机器几种常用的地址模式和一些常用的指令;基本块和程序流图;简单的代码生成算法。要求学生掌握代码生成中的一些基本概念和生成器设计的基本技术。

二、课程内容

第一节 代码生成器的设计中的问题

( 一 ) 目标程序 ;

( 二 ) 指令的选择 ;

( 三 ) 寄存器分配;

( 四 ) 计算次序的选择。

第二节 目标机器

( 一 ) 目标机器的指令系统 ;

( 二 ) 指令的代价。

第三节 基本块和流图

( 一 ) 基本块;

( 二 ) 基本块的变换 ;

( 三 ) 流图;

( 四 ) 下次引用信息 。

第四节 一个简单的代码生成器

( 一 ) 寄存器描述和地址描述 ;

( 二 ) 代码生成算法 ;

( 三 ) 寄存器选择函数;

( 四 ) 条件语句。

三、考核知识点

( 一 ) 指令的代价 ;

( 二 ) 基本块和流图 。

四、考核要求

( 一 ) 指令的代价

1. 识记：指令代价的概念。 2. 应用：如何计算指令的代价。

( 二 ) 基本块和流图

1. 识记： 作用域 基本块和流图 的概念 。 2. 应用：给出一段程序，能够划分 基本块和流图 。

第 9 章 代码优化

一、学习目的和要求

通过程序变换(局部变换和全局变换)来改进程序，称为优化。本章介绍独立于机器的优化，即不考虑任何目标机器性质的优化变换、流图中循环的识别、数据流分析、代码改进变换等。 要求学生掌握优化的种类、全局数据流分析、流图中的循环等。

二、课程内容

第一节 优化的主要种类

( 一 ) 代码改进变换的标准 ;

( 二 ) 公共子表达式删除 ;

( 三 ) 复写传播;

( 四 ) 死代码删除

( 五 ) 代码外提

( 六 ) 强度削弱和归纳变量删除;

( 七 ) 优化编译器的组织。

第二节 流图中的循环

( 一 ) 自然循环 ;

( 二 ) 前置结点;

( 三 ) 可归纳流图。

第三节 全局数据流分析介绍

( 一 ) 点和路径;

( 二 ) 到达 - 定值 ;

( 三 ) 可用表达式;

( 四 ) 活跃变量分析 。

三、考核知识点

( 一 ) 优化的种类 ;

( 二 ) 流图中的循环 。

四、考核要求

( 一 ) 优化的种类

1. 识记：优化的几种类型： 公共子表达式删除 、 复写传播、死代码删除 代码外提 强度削弱和归纳变量删除 。 2. 应用：利用这几种优化方法进行优化。

( 二 ) 流图中的循环

1. 识记： 必经结点、自然循环、前置结点、可归纳流图的概念 。 2. 应用：区分循环和回边。